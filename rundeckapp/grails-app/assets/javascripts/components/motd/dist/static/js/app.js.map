{"version":3,"sources":["webpack:///src/components/motd.vue","webpack:///./src/components/motd.vue?f6b7","webpack:///./src/components/motd.vue","webpack:///src/App.vue","webpack:///./src/App.vue?4548","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["motd","name","props","data","message","showMessageTeaser","methods","dismissMessage","cookieKey","this","hashMessage","project","readme","midnight","Date","setHours","$cookies","set","messageToHash","hash","length","i","charCodeAt","checkMessage","messageToCheck","get","mounted","shortMessage","lodash_default","a","truncate","fullMessage","motdHTML","components_motd","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","on","click","_v","directives","rawName","value","expression","domProps","innerHTML","_s","staticStyle","margin","padding","$event","_e","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","_this","window","_rundeck","rdBase","projectName","axios_default","method","headers","x-rundeck-ajax","url","params","projects","withCredentials","then","response","console","log","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","config","productionTip","use","vue_cookies_default","el","template"],"mappings":"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","file":"static/js/app.js","sourcesContent":["<template>\n  <div class=\"row\" v-if=\"message\">\n    <div class=\"col-xs-12\">\n      <div class=\"alert alert-info\">\n        <button type=\"button\" class=\"close\" @click=\"dismissMessage\">×</button>\n        <h4>Message of The Day</h4>\n        <div v-show=\"showMessageTeaser\">\n          <span v-html=\"message.shortMessage\"></span>\n          <a v-show=\"message.fullMessage\" class=\"btn btn-sm btn-simple\" style=\"margin: 0; padding: 0 0 0 .5em;\" @click=\"showMessageTeaser = !showMessageTeaser\">[read more]</a>\n        </div>\n\n        <div v-show=\"!showMessageTeaser\">\n          <span v-html=\"message.fullMessage\"></span>\n          <p class=\"text-center\">\n            <a class=\"btn btn-sm btn-simple text-center\" @click=\"showMessageTeaser = !showMessageTeaser\">[show less]</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash'\n\nexport default {\n  name: 'MessageOfTheDay',\n  props: [\n    'project'\n  ],\n  data () {\n    return {\n      message: false,\n      showMessageTeaser: true\n    }\n  },\n  methods: {\n    dismissMessage () {\n      let cookieKey = this.hashMessage(this.project.readme.motd)\n      let midnight = new Date()\n      midnight.setHours(23, 59, 59, 0)\n      this.$cookies.set(cookieKey, 'true', midnight)\n      this.message = false\n    },\n    hashMessage (messageToHash) {\n      let hash = 0\n      let chr\n      if (messageToHash.length === 0) return hash\n      for (let i = 0; i < messageToHash.length; i++) {\n        chr = messageToHash.charCodeAt(i)\n        hash = ((hash << 5) - hash) + chr\n        hash |= 0 // Convert to 32bit integer\n      }\n      return hash\n    },\n    checkMessage () {\n      let messageToCheck = this.hashMessage(this.project.readme.motd)\n      if (this.$cookies.get(messageToCheck)) {\n        // the message has been previously dismissed\n        return false\n      } else {\n        return true\n      }\n    }\n  },\n  mounted () {\n    let message = this.checkMessage()\n\n    if (message) {\n      this.showMessageTeaser = true\n      this.message = {\n        shortMessage: _.truncate(this.project.readme.motd, {\n          'length': 250\n        }),\n        fullMessage: (this.project.readme.motd.length <= 250 ? false : this.project.readme.motdHTML)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/motd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12\"},[_c('div',{staticClass:\"alert alert-info\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.dismissMessage}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h4',[_vm._v(\"Message of The Day\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMessageTeaser),expression:\"showMessageTeaser\"}]},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message.shortMessage)}}),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message.fullMessage),expression:\"message.fullMessage\"}],staticClass:\"btn btn-sm btn-simple\",staticStyle:{\"margin\":\"0\",\"padding\":\"0 0 0 .5em\"},on:{\"click\":function($event){_vm.showMessageTeaser = !_vm.showMessageTeaser}}},[_vm._v(\"[read more]\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showMessageTeaser),expression:\"!showMessageTeaser\"}]},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message.fullMessage)}}),_vm._v(\" \"),_c('p',{staticClass:\"text-center\"},[_c('a',{staticClass:\"btn btn-sm btn-simple text-center\",on:{\"click\":function($event){_vm.showMessageTeaser = !_vm.showMessageTeaser}}},[_vm._v(\"[show less]\")])])])])])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75c2f4a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/motd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75c2f4a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./motd.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./motd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./motd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75c2f4a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./motd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75c2f4a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/motd.vue\n// module id = null\n// module chunks = ","<template>\n  <div v-if=\"project\">\n    <motd v-if=\"project && project.readme && project.readme.motd\" :project=\"project\"></motd>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport motd from '@/components/motd'\n\nexport default {\n  name: 'App',\n  components: {\n    motd\n  },\n  data () {\n    return {\n      project: null\n    }\n  },\n  mounted () {\n    if (window._rundeck && window._rundeck.rdBase && window._rundeck.projectName) {\n      axios({\n        method: 'get',\n        headers: {'x-rundeck-ajax': true},\n        url: `${window._rundeck.rdBase}menu/homeAjax`,\n        params: {\n          projects: `${window._rundeck.projectName}`\n        },\n        withCredentials: true\n      }).then((response) => {\n        console.log('response', response)\n        if (response.data.projects[0]) {\n          this.project = response.data.projects[0]\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.project)?_c('div',[(_vm.project && _vm.project.readme && _vm.project.readme.motd)?_c('motd',{attrs:{\"project\":_vm.project}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4c8b38e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4c8b38e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4c8b38e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport VueCookies from 'vue-cookies'\nimport App from './App'\n\nVue.config.productionTip = false\n\nVue.use(VueCookies)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#project-motd-vue',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}